anyOf:
  - type: object
    properties:
      location: { type: string, format: kebab-case-path }
      type: { const: local }

    additionalProperties: false
    required: [location, type]

  - type: object
    properties:
      location: { type: string }
      type: { const: google }
      bucket: { type: string, format: kebab-case }
      serviceAccount:
        type: object
        properties:
          type: { type: string }
          project_id: { type: string }
          private_key_id: { type: string }
          private_key: { type: string }
          client_email: { type: string }
          client_id: { type: string }
          auth_uri: { type: string }
          token_uri: { type: string }
          auth_provider_x509_cert_url: { type: string }
          client_x509_cert_url: { type: string }

        additionalProperties: false
        required: [project_id, private_key, client_email, token_uri]

    additionalProperties: false
    required: [location, type, bucket, serviceAccount]
