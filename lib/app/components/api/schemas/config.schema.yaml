type: object
properties:
  root:
    type: object
    properties:
      email: { type: string, format: email }
      password: { type: ["null", string] }
      telegramUsername:
        anyOf:
          - { type: "null" }
          - { type: string, format: telegram-username }
    required: [email, password, telegramUsername]
    additionalProperties: false

  connections:
    type: object
    properties:
      maxPayloadLength: { type: integer, minimum: 1 } # 64K
      idleTimeout: { type: integer, minimum: 0 }
      sendPingsAutomatically: { type: boolean }
      compress:
        anyOf:
          - { type: boolean }
          - { type: integer }
      required: [maxPayloadLength, idleTimeout, sendPingsAutomatically, compress]
      additionalProperties: false

  locales: { type: array, items: { type: string }, minItems: 1, uniqueItems: true }
  defaultLocale: { type: string }
  currency: { type: string }

  frontendUrl: { type: string, format: uri }
  passwordsStrength: { enum: [weak, normal, strong] }
  signupEnabled: { typs: boolean }

additionalProperties: false
required:
  - root
  - connections

  - locales
  - defaultLocale
  - currency

  - frontendUrl
  - passwordsStrength
  - signupEnabled
