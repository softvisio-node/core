type: object
properties:
  root:
    type: object
    properties:
      email: { type: string, format: email }
      password: { type: ["null", string] }
      telegramUsername:
        anyOf:
          - { type: "null" }
          - { type: string, format: telegram-username }
    required: [email, password, telegramUsername]
    additionalProperties: false

  connections:
    type: object
    properties:
      maxPayloadLength: { type: integer, minimum: 1 } # 64K
      idleTimeout: { type: integer, minimum: 0 }
      sendPingsAutomatically: { type: boolean }
      compress:
        anyOf:
          - { type: boolean }
          - { type: integer }
      required: [maxPayloadLength, idleTimeout, sendPingsAutomatically, compress]
      additionalProperties: false

  passwordsStrength: { enum: [weak, normal, strong] }

required: [root, connections, passwordsStrength]
additionalProperties: false
