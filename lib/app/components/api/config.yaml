dependencies:
  - publicHttpServer
  - dbh
  - users
  - actionTokens
  - notifications
  - acl

optionalDependencies:
  - cluster

config:
  # root user
  root:
    email: ~
    password: ~

  avatarUrl: /api/avatar/
  avatarMaxAge: 1 day
  forceDefaultAvatar: false
  defaultGravatar: ~

  # forntend
  frontendUrl: ~
  frontend:
    maxParallelCallsPerClient: 1
    maxApiRequestLength: 65_535 # 64KB
    maxUploadFileSize: 1_073_741_824 # 1GB
    idleTimeout: 40 # send ping every 40 seconds, required for CloudFlare
    sendPingsAutomatically: true
    compress: ~ # user server default value

  # users
  signupEnabled: true

  # tokens
  apiTokensCacheMaxSize: 10_000

  # sessions
  sessionsCacheMaxSize: 10_000
  sessionMaxAge: 30 days
  authorizedSessionMaxAge: 5 minutes

  # oauth
  oauth:
    google:
      clientId: ~
      clientSecret: ~
    facebook:
      clientId: ~
      clientSecret: ~
    github:
      clientId: ~
      clientSecret: ~
