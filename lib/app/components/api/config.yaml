dependencies:
  - publicHttpServer
  - dbh
  - argon2
  - users
  - locales
  - actionTokens
  - notifications
  - acl
  - monitoring
  - healthcheck

optionalDependencies:
  - cluster

config:
  # root user
  root:
    email: ~
    password: ~

  # forntend
  frontendUrl: ~
  frontend:
    maxParallelCallsPerClient: 1
    maxApiRequestLength: 65_535 # 64KB
    maxUploadFileSize: 1_073_741_824 # 1GB
    idleTimeout: 40 # send ping every 40 seconds, required for CloudFlare
    sendPingsAutomatically: true
    compress: ~ # user server default value

  # users
  passwordsStrength: strong
  signupEnabled: true
  newUserEnabledByDefault: true # new users are enabled by default

  # tokens
  tokensCacheMaxSize: 10_000
  tokenLength: 8

  # sessions
  sessionsCacheMaxSize: 10_000
  sessionTokenLength: 16
  sessionMaxAge: 2_592_000_000 # ms, 30 days
  authorizedSessionMaxAge: 300_000 # ms, 5 minutes

  # oauth
  oauth:
    google:
      clientId: ~
      clientSecret: ~
    facebook:
      clientId: ~
      clientSecret: ~
    github:
      clientId: ~
      clientSecret: ~

  # acl
  aclCacheMaxSize: 10_000
  acl:
    default:
      developer:
        name: !i18n [Developer]
        description: !i18n [Project developer]
        permissions:
          - development:*

      administrator:
        name: !i18n [Administrator]
        description: !i18n [Project administrator]
        permissions:
          - acl:*
          - administration:*
