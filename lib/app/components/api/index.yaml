dependencies:
  - dbh

optionalDependencies:
  - publicHttpServer

config:
  root:
    email: ~
    password: ~

  frontend:
    enabled: true
    maxParallelCallsPerClient: 1
    maxApiRequestLength: 65_535 # 64KB
    maxUploadFileSize: 1_073_741_824 # 1GB
    idleTimeout: 40 # send ping every 40 seconds, required for CloudFlare
    sendPingsAutomatically: true
    compress: ~ # user server default value

  locales: [en-GB] # en-US, uk, ru
  defaultLocale: en-GB
  currency: USD

  frontendUrl: ~
  passwordsStrength: strong
  signupEnabled: true
  newUserEnabled: true
  defaultGravatarImage: "noname@softvisio.net" # email, url, 404, mp, identicon, monsterid, wavatar, retro, robohash, blank

  usersCacheMaxSize: 10_000
  userTokensCacheMaxSize: 10_000
  userSessionsCacheMaxSize: 10_000

  userTokenLength: 8
  userSessionTokenLength: 16
  userActionTokenLength: 8

  sessionMaxAge: 2_592_000_000 # ms, 30 days
  authorizedSessionMaxAge: 300_000 # ms, 5 minutes
  actionTokenMaxAge: 600_000 # ms, 10 minutes
  aclCacheMaxSize: 10_000

  argon2:
    preset: default

  oauth:
    google:
      clientId: ~
      clientSecret: ~
    facebook:
      clientId: ~
      clientSecret: ~
    github:
      clientId: ~
      clientSecret: ~

  acl:
    default:
      developer:
        name: Developer
        description: Project developer
        permissions:
          - development:read
          - development:delete

      administrator:
        name: Administrator
        description: Project administrator
        permissions:
          # acl permissions
          - acl:create
          - acl:read
          - acl:update
          - acl:delete

          # administration permisssions
          - administration:create
          - administration:read
          - administration:update
          - administration:delete

  notifications:
    smtp: ~
    telegramBot:
      type: telegramNotificationsBot
      apiKey: ~

    types:
      security:
        name: Security
        description: Various security related notifications
        channels: { internal: true, email: true, telegram: true, push: false }
      other:
        name: Other
        description: Other unclassified notifications
        channels: { internal: true, email: true, telegram: true, push: false }

    firebase: ~
