dependencies:
  - dbh
  - argon2
  - users
  - actionTokens
  - notifications
  - monitoring

optionalDependencies:
  - cluster
  - publicHttpServer

config:
  root:
    email: ~
    password: ~

  frontend:
    maxParallelCallsPerClient: 1
    maxApiRequestLength: 65_535 # 64KB
    maxUploadFileSize: 1_073_741_824 # 1GB
    idleTimeout: 40 # send ping every 40 seconds, required for CloudFlare
    sendPingsAutomatically: true
    compress: ~ # user server default value

  frontendUrl: ~
  passwordsStrength: strong
  signupEnabled: true
  newUserEnabled: true

  tokensCacheMaxSize: 10_000
  sessionsCacheMaxSize: 10_000

  tokenLength: 8
  sessionTokenLength: 16

  sessionMaxAge: 2_592_000_000 # ms, 30 days
  authorizedSessionMaxAge: 300_000 # ms, 5 minutes
  aclCacheMaxSize: 10_000

  oauth:
    google:
      clientId: ~
      clientSecret: ~
    facebook:
      clientId: ~
      clientSecret: ~
    github:
      clientId: ~
      clientSecret: ~

  acl:
    default:
      developer:
        name: Developer
        description: Project developer
        permissions:
          - development:*

      administrator:
        name: Administrator
        description: Project administrator
        permissions:
          - acl:*
          - administration:*
