- $id: config1
  type: object
  properties:
    httpPort: { type: number, format: ip-port }
    httpSslPort: { type: number, format: ip-port }
    listenIpFamily: { enum: [0, 4, 6] }
    dockerEnabled: { typ: boolean }
    upstreamHttpPort: { type: number, format: ip-port }
    maxBodySize: { type: string, format: didital-size-unit }

    cacheEnabled: { type: boolean }
    cacheMaxSize:
      anyOf:
        - type: "null"
        - { type: string, format: digital-size }

    cacheMinFree:
      anyOf:
        - type: "null"
        - { type: string, format: digital-size }

    cacheInactive: { type: string, format: duration }
    cacheStatus: { type: boolean }
    cacheBypass: { type: boolean }

    acme:
      type: object
      properties:
        email:
          anyOf:
            - type: "null"
            - { type: string, format: email }
      additionalProperties: false

    cloudFlare:
      type: object
      properties:
        apiKey: { type: ["null", string] }
        email:
          anyOf:
            - type: "null"
            - { type: string, format: email }
      additionalProperties: false

  additionalProperties: false
  required: [httpPort, httpSslPort, listenIpFamily, dockerEnabled, upstreamHttpPort, maxBodySize, cachEenabled, cacheInactive, cacheStatus, cacheBypass]
