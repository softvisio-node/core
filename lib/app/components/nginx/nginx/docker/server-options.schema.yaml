type: object
properties:
  type: { enum: [http, tcp, udp] }

  port: { type: ["null", number], format: ip-port }

  serverName:
    anyOf:
      - type: "null"
      - const: "*"
      - { type: string, format: nginx-server-name }
      - { type: array, items: { type: string, format: nginx-server-name }, minItems: 1, uniqueItems: true }

  upstreamPort: { type: ["null", number], format: ip-port }

  maxBodySize: { type: string, format: digital-size }
  cacheEnabled: { type: boolean }
  cacheBypass: { type: boolean }
  sslEnabled: { type: boolean }

additionalProperties: false
required: [type]
