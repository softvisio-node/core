title: Access control lists
roles: [user]

methods:
  get-users:
    title: Get acl users
    params:
      - name: acl_id
        required: true
        schema: { type: string, checkAcl: acl }

  get-roles:
    title: Get acl roles
    params:
      - name: acl_id
        required: true
        schema: { type: string, checkAcl: acl }

  add-user:
    title: Add acl user
    params:
      - name: acl_id
        required: true
        schema: { type: string, checkAcl: acl }
      - name: user_id
        required: true
        schema: { type: string }
      - name: options
        schema:
          type: object
          properties:
            enabled: { type: boolean }
            roles: { type: array, items: { type: string }, uniqueItems: true }
          additionalProperties: false

  delete-user:
    title: Delete acl user
    params:
      - name: acl_id
        required: true
        schema: { type: string, checkAcl: acl }
      - name: user_id
        required: true
        schema: { type: string }

  set-user-enabled:
    title: Set acl user enabled
    params:
      - name: acl_id
        required: true
        schema: { type: string, checkAcl: acl }
      - name: user_id
        required: true
        schema: { type: string }
      - name: enabled
        required: true
        schema: { type: boolean }

  set-role-enabled:
    title: Set acl user role enabled status
    params:
      - name: acl_id
        required: true
        schema: { type: string, checkAcl: acl }
      - name: user_id
        required: true
        schema: { type: string }
      - name: role
        required: true
        schema: { type: string }
      - name: enabled
        required: true
        schema: { type: boolean }

  suggest-users:
    title: Suggest users
    params:
      - name: options
        schema:
          read:
            fields:
              acl_id: { type: string, operator: "=", required: true, checkAcl: acl }
              name: { type: string, operator: "like" }
            order_by: [["name", "desc"]]
            offset: false
            limit: { maxLimit: 20 }
