title: Notifications
permissions: [user]

methods:
  get-notifications-settings:
    title: Get user notifications settings

  set-user-notification-channel:
    title: Set user notification channel status
    params:
      - name: type
        required: true
        schema:
          type: string
      - name: channel
        required: true
        schema:
          type: string
          enum: [internal, email, telegram, push]
      - name: enabled
        required: true
        schema:
          type: boolean

  read:
    title: Read notifications
    meta:
      type: read
      readMaxLimit: 25
      readDefaultOrderBy: [["created", "desc"]]
    params:
      - name: options
        schema:
          apiRead:
            done: { type: boolean, conditions: ["="] }

  set-read:
    title: Set notifications as read
    params:
      - name: notifications
        schema:
          type: array
          items: { type: string }
          minItems: 1

  set-read-all:
    title: Set all notifications as read

  set-unread:
    title: Set notifications as unread
    params:
      - name: notifications
        schema:
          type: array
          items: { type: string }
          minItems: 1

  set-unread-all:
    title: Set all notifications as unread

  set-done:
    title: Set notifications as done
    params:
      - name: notifications
        schema:
          type: array
          items: { type: string }
          minItems: 1

  set-done-all:
    title: Set all notifications as done

  set-undone:
    title: Set notifications as undone
    params:
      - name: notifications
        schema:
          type: array
          items: { type: string }
          minItems: 1

  set-undone-all:
    title: Set all notifications as undone

  delete:
    title: Delete notification
    params:
      - name: notifications
        schema:
          type: array
          items: { type: string }
          minItems: 1

  delete-all:
    title: Delete all notifications
