- $id: default
  env:
    type: object
    properties:
      # root
      APP_ROOT_PASSWORD: { type: [string, "null"] }
      APP_ROOT_EMAIL: { type: string, format: email }
      APP_ROOT_TELEGRAM_USERNAME:
        anyOf:
          - { type: "null" }
          - { type: string, format: telegram-username }

      # smtp
      APP_SMTP_HOSTNAME: { type: string, format: hostname }
      APP_SMTP_PORT: { enum: [25, 465, 587] }
      APP_SMTP_USERNAME: { type: string }
      APP_SMTP_PASSWORD: { type: string }
      APP_SMTP_FROM: { type: string }

      # telegram
      APP_TELEGRAM_BOT_KEY: { type: string }

      # app settings
      APP_SITE_URL: { type: string, format: url }
      APP_DATABASE: { type: string, format: url }
      APP_CLUSTER_ID: { type: string }

    required:
      # root
      - APP_ROOT_PASSWORD
      - APP_ROOT_EMAIL

- $id: components
  smtp:
    type: object
    properties:
      APP_SMTP_HOSTNAME: { type: string, format: host }
      APP_SMTP_PORT: { enum: [22, 465] }
      APP_SMTP_USERNAME: { type: string }
      APP_SMTP_PASSWORD: { type: string }
      APP_SMTP_FROM: { type: string }
    required: [APP_SMTP_HOSTNAME, APP_SMTP_PORT, APP_SMTP_USERNAME, APP_SMTP_PASSWORD]

  service: { type: string, format: uri }
